---
layout: post
title: 【Linux小技巧】SSH那些事
date: 2018-05-23
---

前言
空窗期（这个词是不是很专业）的几天，没什么事做。手边从图书馆借的Ceph的书快到期了，赶紧拿出来看看。
好哒 Ceph 启动！  。。。。。。。。  enmmmmm 明天继续部署
不过在部署的过程中学到了很多ssh的小技巧，改变了这两年很low的操作。赶紧M一下
正文
ssh登录远程主机
这个几乎是很常用的操作了。  $ ssh root@192.168.30.2  但是每次要输入这么长一大串很麻烦，于是我就用了一个很low的办法实现  修改.bashrc  alias sshbmw='ssh root@xxx.xx.xx.xx'
之前做分布式爬虫时，要管理3+3台腾讯/阿里云，于是在bashrc里面alias了一堆。。。
现在才知道，可以通过修改ssh的config文件
$ vim ~/.ssh/config （针对不同用户，config不同，需要新建，and设置权限，具体权限我也不太清楚给个744是ok的）  添加

```
Host agent 
    HostName 192.168.30.2 
    User kang
```
 
然后直接  $ ssh agent  就相当于ssh kang@192.168.30.2了  这样就很优雅了~
（当然，有小伙伴可能会说了，直接修改hosts文件可以吗？但是就会使用当前的用户名来登录了，比如当前的用户是root 相当于ssh root@192.168.30.2，当前是kang 就会ssh kang@192.168.30.2）
ssh免密登录
恩，又是一个很常用的操作。  之前都是手动设置的，参考之前的博客SSH免密登陆Linux。但是毕竟手动很麻烦，还要注意权限啥的。
现在则通过$ ssh-copy-id {host} （对 这个host就是我们在config里面设置好的）输入一次密码之后，就可以一键完成啦。  自动生成authorized_keys文件，权限也ok。very 优雅。
提升效率，节约时间，从我做起。
